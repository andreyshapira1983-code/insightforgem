<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Star Galaxy — ИИ-анализатор бизнес-идей</title>

  <!-- Canonical -->
  <link rel="canonical" href="https://insightforgem.netlify.app/" />

  <!-- SEO -->
  <meta name="description" content="Star Galaxy — генератор и ИИ-анализатор бизнес-идей: оценка потенциала, трендов, патентов и юридических аспектов для разных рынков." />

  <!-- Styles -->
  <link rel="stylesheet" href="css/styles.css" />
  <link rel="stylesheet" href="css/global-fixes.css" />
</head>
<body>

  <!-- Ссылка для скринридеров -->
  <a class="skip-link" href="#main-content">К основному содержимому</a>

  <!-- ===================== HEADER (landmark) ===================== -->
  <header class="site-header" role="banner" aria-label="Верхняя панель">
    <div class="header-inner">
      <a class="logo" href="/" aria-label="Star Galaxy — на главную">
        <span class="logo-planet" aria-hidden="true"></span>
        <span class="logo-ring" aria-hidden="true"></span>
        <span class="sidebar-title">Star Galaxy</span>
      </a>

      <nav class="top-nav" aria-label="Навигация">
        <ul>
          <li><a href="#dashboard">Панель</a></li>
          <li><a href="#myIdeas">Мои идеи</a></li>
          <li><a href="#market">Рынок</a></li>
          <li><a href="#improve">Улучшения</a></li>
        </ul>
      </nav>

      <div class="auth-area">
        <button class="auth-button" id="header-sign-in" data-role="signin" type="button">
          Войти
        </button>
      </div>
    </div>
  </header>

  <!-- ===================== MAIN (landmark) ===================== -->
  <main id="main-content" role="main">
    <!-- ОДИН-ЕДИНСТВЕННЫЙ H1 -->
    <h1 id="main-title">
      <span class="title-text">Star Galaxy — ИИ-анализатор и генератор бизнес-идей</span>
    </h1>

    <section id="dashboard" class="card" aria-labelledby="dash-title">
      <h2 id="dash-title">Быстрый старт</h2>
      <p id="instruction-text">Введите идею ниже и нажмите «Генерировать», чтобы получить анализ рынка, патентные риски и юридические рекомендации.</p>

      <label class="visually-hidden" for="idea-text">Опишите вашу идею</label>
      <textarea id="idea-text" placeholder="Введите вашу идею здесь…"></textarea>

      <div class="ai-options" aria-label="Режимы анализа">
        <button class="ai-option selected" data-mode="analyze" type="button">
          <span class="galaxy-icon analyze-icon" aria-hidden="true"><span class="analyze-beam"></span></span>
          Бизнес-анализ
        </button>

        <button class="ai-option" data-mode="market" type="button">
          <span class="galaxy-icon market-icon" aria-hidden="true"><span class="market-graph"></span></span>
          Маркет-исследование
        </button>

        <button class="ai-option" data-mode="improve" type="button">
          <span class="galaxy-icon improve-icon" aria-hidden="true"><span class="improve-spark"></span></span>
          Идеи улучшения
        </button>
      </div>

      <div class="actions">
        <button id="generate-btn" class="primary" type="button">Генерировать</button>
      </div>
    </section>

    <aside class="info-panel" aria-labelledby="trends-title">
      <div class="info-panel-header">
        <h2 id="trends-title">Тренды рынка</h2>
        <span class="login-btn">
          <button class="auth-button" data-role="signin" type="button">Войти</button>
        </span>
      </div>

      <section class="legal card" id="legal" aria-labelledby="legal-title">
        <h3 id="legal-title">Юридическая информация</h3>
        <div id="legal-body"><!-- Юридический контент подгружается скриптами --></div>
      </section>
    </aside>
  </main>

  <!-- ===================== FOOTER (landmark) ===================== -->
  <footer class="site-legal legal-footer-center" id="site-legal" role="contentinfo">
    <nav aria-label="Правовые ссылки">
      <a href="#legal">Правовая оговорка</a>
      <a href="/terms.html">Условия обслуживания</a>
      <a href="/privacy.html">Политика конфиденциальности</a>
    </nav>
  </footer>

  <!-- ===================== LOGIN MODAL (без лишних H1) ===================== -->
  <div class="auth-modal" id="auth-modal" aria-hidden="true" role="dialog" aria-labelledby="auth-title" aria-modal="true">
    <div class="auth-modal-content">
      <button class="auth-modal-close" type="button" aria-label="Закрыть">×</button>
      <h2 id="auth-title" class="auth-modal-title">Вход в аккаунт</h2>
      <p class="auth-modal-subtitle">Выберите способ входа</p>

      <div class="social-auth-buttons">
        <button class="social-auth-button" id="google-auth" type="button">
          <img alt="Google" src="https://cdn-icons-png.flaticon.com/512/2991/2991148.png" />
          <span>Google</span>
        </button>

        <button class="social-auth-button" id="facebook-auth" type="button">
          <img alt="Facebook" src="https://cdn-icons-png.flaticon.com/512/5968/5968764.png" />
          <span>Facebook</span>
        </button>

        <button class="social-auth-button" id="github-auth" type="button">
          <img alt="GitHub" src="https://cdn-icons-png.flaticon.com/512/733/733553.png" />
          <span>GitHub</span>
        </button>

        <button class="social-auth-button" id="apple-auth" type="button">
          <img alt="Apple" src="https://cdn-icons-png.flaticon.com/512/0/747.png" />
          <span>Apple</span>
        </button>
      </div>
    </div>
  </div>

  <!-- ===================== SCRIPTS (все после футера) ===================== -->
  <script src="js/galaxy-bg.js"></script>
  <script src="js/app.js"></script>
  <script src="js/analyzeIdeaForPatents.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/hardening.js"></script>
  <script src="js/auth-fix.js"></script>

  <!-- Удаление дублей кнопок входа в шапке (как у тебя на фото) -->
  <script id="signin-dedupper">
    document.addEventListener('DOMContentLoaded', function () {
      try {
        const header = document.querySelector('.info-panel-header');
        if (!header) return;
        const btns = header.querySelectorAll('.auth-button');
        if (btns.length > 1) {
          const keep = header.querySelector('#header-sign-in') || btns[btns.length - 1];
          btns.forEach(b => { if (b !== keep) b.remove(); });
        }
      } catch (e) {}
    });
  </script>

</body>
</html>